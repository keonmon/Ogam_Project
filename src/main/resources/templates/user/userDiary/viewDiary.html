<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>my_diary</title>
    <link rel="stylesheet" type="text/css" href="../css/test.css" />
    <link rel="stylesheet" type="text/css" href="../css/reset.css" />
    <link href="../css/viewDiary.css" rel="stylesheet">
    <script src="https://kit.fontawesome.com/f9358a6ceb.js" crossorigin="anonymous"></script>
    <script>
        // iframe ìë™ height ì¡°ì ˆ
        function resizeIframe(obj) {
            obj.style.height = obj.contentWindow.document.documentElement.scrollHeight + 'px';
        }
    </script>
    <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            $(".sidebar").load("/user_sidebar.html");
            $(".menubar").load("/user_menubar.html");
        });
    </script>
    
</head>

<body>
    <div class="container">

        <aside class="sidebar"></aside>
        <main class="bodyContainer">
            <div class="menubar"></div>
            <div class="contents">
                <!-- ====================contents ì˜ì—­======================= -->
                <article class="viewArea">
                    <div class="writeDate">
                        <span>22. 10. 16. Sun</span>
                        <div class="selectedEmoji">ğŸ¤—</div>
                    </div>
                    <div class="viewOutline">
                        <div class="viewBg"></div>
                        <form>

                            <div class="innerOutline" >
                                <div class="diaryMenu" id="101">
                                    Â·Â·Â·
                                </div>
                                <!-- ëª¨ë‹¬ ì°½ (ë‹¤ì´ì–´ë¦¬ ë©”ë‰´ë²„íŠ¼)-->
                                <!-- <div class="diaryModal modal hidden">
                                    <div class="modalBg"></div>
                                    <div class="modalBox">
                                        <div class="modalClose" style="cursor: pointer;">X</div>

                                    </div>
                                </div> -->


                                <div class="likeButton">
                                    â™¡
                                </div>

                                <div class="innerBg">
                                    <div class="innerImg"></div>
                                </div>

                                <div class="diaryNote">
                                    <textarea cols="100" rows="auto" onfocus="resize(this)" onblur="resize(this)"
                                        autofocus="autofocus" spellcheck="false"
                                        readonly="readonly">ì—¬ê¸°ëŠ” ì‘ì„±ëœ ê¸€ ì˜ì—­ ì´ëŸ¬í•œ ì €ëŸ¬í•œ ì¼ì´ ìˆì—ˆëŠ”ë° ê¸°ë¶„ì´ ë„ˆë¬´ ì¢‹êµ¬ë§Œ~~!!(ìˆ˜ì • ë¶ˆê°€)ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹</textarea>
                                </div>
                            </div>
                            <!-- ëŒ“ê¸€ ì‘ì„± ì˜ì—­ -->
                            <div class="replyBox">
                                <div class="replyWrite">
                                    <input type="text" class="replyInput" maxlength="30" placeholder="ëŒ“ê¸€ì„ ì…ë ¥í•˜ì„¸ìš”."
                                        spellcheck="false" />
                                </div>
                                <div class="replyUpload" onclick="replyAdd()">
                                    ì…ë ¥
                                </div>
                            </div>

                            <!-- ëŒ“ê¸€ ìŠ¬ë¼ì´ë“œ -->
                            <div class="mod2_slider slider">
                                <div class="mod2_innerSlide">
                                    <!-- ìµœëŒ€ 10ê°œ ì˜ mod2_innerContents
                                        10 * ( width:230px + margin-right:20px ) -->
                                    <div class="mod2_innerContents" >
                                        <div class="mod2_d_bg">
                                            <div class="mod2_d_set">
                                                <div class="replyMenu" id="101">Â·Â·Â·</div>
                                                <span class="mod2_d_nick">ê¹€ê¸¸ë™</span>
                                                <span class="mod2_d_date">22. 10. 16. Sun</span>
                                                <span class="mod2_d_diary">ê°€ë‚˜ë‹¤ë¼ë§ˆë°”ì‚¬ ì•„ìì°¨ì¹´ íƒ€íŒŒí•˜ í•˜ëŠ” ì¼ì´ ìˆì—ˆë‹¤. ë„ˆë¬´ ì¬ë°Œì—ˆë‹¤!
                                                    ğŸ˜Š</span>
                                                <span class="mod2_d_imoji">ğŸ¥°</span>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- ì—¬ê¸° ì´í•˜ëŠ” ë°˜ë³µì„(ë”ë¯¸) -->
                                    <div class="mod2_innerContents">
                                        <div class="mod2_d_bg">
                                            <div class="mod2_d_set">
                                                <div class="replyMenu" id="102">Â·Â·Â·</div>
                                                <span class="mod2_d_nick">ê¹€ê¸¸ë™</span>
                                                <span class="mod2_d_date">22. 10. 16. Sun</span>
                                                <span class="mod2_d_diary">ê°€ë‚˜ë‹¤ë¼ë§ˆë°”ì‚¬ ì•„ìì°¨ì¹´ íƒ€íŒŒí•˜ í•˜ëŠ” ì¼ì´ ìˆì—ˆë‹¤. ë„ˆë¬´ ìŠ¬íë‹¤ã… </span>
                                                <span class="mod2_d_imoji">ğŸ˜¥</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="mod2_innerContents">
                                        <div class="mod2_d_bg">
                                            <div class="mod2_d_set">
                                                <div class="replyMenu" id="103">Â·Â·Â·</div>
                                                <span class="mod2_d_nick">ê¹€ê¸¸ë™</span>
                                                <span class="mod2_d_date">22. 10. 16. Sun</span>
                                                <span class="mod2_d_diary">ê°€ë‚˜ë‹¤ë¼ë§ˆë°”ì‚¬ ì•„ìì°¨ì¹´ íƒ€íŒŒí•˜ í•˜ëŠ” ì¼ì´ ìˆì—ˆë‹¤. ë„ˆë¬´ í˜ë“¤ì—ˆë‹¤!</span>
                                                <span class="mod2_d_imoji">ğŸ˜©</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="mod2_innerContents">
                                        <div class="mod2_d_bg">
                                            <div class="mod2_d_set">
                                                <div class="replyMenu" id="104">Â·Â·Â·</div>
                                                <span class="mod2_d_nick">ê¹€ê¸¸ë™</span>
                                                <span class="mod2_d_date">22. 10. 16. Sun</span>
                                                <span class="mod2_d_diary">ê°€ë‚˜ë‹¤ë¼ë§ˆë°”ì‚¬ ì•„ìì°¨ì¹´ íƒ€íŒŒí•˜ í•˜ëŠ” ì¼ì´ ìˆì—ˆë‹¤. ë„ˆë¬´ í™”ë‚¬ë‹¤!</span>
                                                <span class="mod2_d_imoji">ğŸ¤¬</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="mod2_innerContents">
                                        <div class="mod2_d_bg">
                                            <div class="mod2_d_set">
                                                <div class="replyMenu" id="105">Â·Â·Â·</div>
                                                <span class="mod2_d_nick">ê¹€ê¸¸ë™</span>
                                                <span class="mod2_d_date">22. 10. 16. Sun</span>
                                                <span class="mod2_d_diary">ê°€ë‚˜ë‹¤ë¼ë§ˆë°”ì‚¬ ì•„ìì°¨ì¹´ íƒ€íŒŒí•˜ í•˜ëŠ” ì¼ì´ ìˆì—ˆë‹¤. ë„ˆë¬´ ì‚¬ë‘ìŠ¤ëŸ¬ì› ë‹¤!
                                                    ğŸ˜Š</span>
                                                <span class="mod2_d_imoji">ğŸ˜»</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="mod2_innerContents">
                                        <div class="mod2_d_bg">
                                            <div class="mod2_d_set">
                                                <div class="replyMenu" id="106">Â·Â·Â·</div>
                                                <span class="mod2_d_nick">ê¹€ê¸¸ë™</span>
                                                <span class="mod2_d_date">22. 10. 16. Sun</span>
                                                <span class="mod2_d_diary">ê°€ë‚˜ë‹¤ë¼ë§ˆë°”ì‚¬ ì•„ìì°¨ì¹´ íƒ€íŒŒí•˜ í•˜ëŠ” ì¼ì´ ìˆì—ˆë‹¤. ë„ˆë¬´ ì¬ë°Œì—ˆë‹¤!
                                                    ğŸ˜Š</span>
                                                <span class="mod2_d_imoji">ğŸ¥°</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="mod2_innerContents">
                                        <div class="mod2_d_bg">
                                            <div class="mod2_d_set">
                                                <div class="replyMenu" id="107">Â·Â·Â·</div>
                                                <span class="mod2_d_nick">ê¹€ê¸¸ë™</span>
                                                <span class="mod2_d_date">22. 10. 16. Sun</span>
                                                <span class="mod2_d_diary">ê°€ë‚˜ë‹¤ë¼ë§ˆë°”ì‚¬ ì•„ìì°¨ì¹´ íƒ€íŒŒí•˜ í•˜ëŠ” ì¼ì´ ìˆì—ˆë‹¤. ë„ˆë¬´ ìŠ¬íë‹¤ã… </span>
                                                <span class="mod2_d_imoji">ğŸ˜¥</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="mod2_innerContents">
                                        <div class="mod2_d_bg">
                                            <div class="mod2_d_set">
                                                <div class="replyMenu" id="108">Â·Â·Â·</div>
                                                <span class="mod2_d_nick">ê¹€ê¸¸ë™</span>
                                                <span class="mod2_d_date">22. 10. 16. Sun</span>
                                                <span class="mod2_d_diary">ê°€ë‚˜ë‹¤ë¼ë§ˆë°”ì‚¬ ì•„ìì°¨ì¹´ íƒ€íŒŒí•˜ í•˜ëŠ” ì¼ì´ ìˆì—ˆë‹¤. ë„ˆë¬´ í˜ë“¤ì—ˆë‹¤!</span>
                                                <span class="mod2_d_imoji">ğŸ˜©</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="mod2_innerContents">
                                        <div class="mod2_d_bg">
                                            <div class="mod2_d_set">
                                                <div class="replyMenu" id="109">Â·Â·Â·</div>
                                                <span class="mod2_d_nick">ê¹€ê¸¸ë™</span>
                                                <span class="mod2_d_date">22. 10. 16. Sun</span>
                                                <span class="mod2_d_diary">ê°€ë‚˜ë‹¤ë¼ë§ˆë°”ì‚¬ ì•„ìì°¨ì¹´ íƒ€íŒŒí•˜ í•˜ëŠ” ì¼ì´ ìˆì—ˆë‹¤. ë„ˆë¬´ í™”ë‚¬ë‹¤!</span>
                                                <span class="mod2_d_imoji">ğŸ¤¬</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="mod2_innerContents">
                                        <div class="mod2_d_bg">
                                            <div class="mod2_d_set">
                                                <div class="replyMenu" id="110">Â·Â·Â·</div>
                                                <span class="mod2_d_nick">ê¹€ê¸¸ë™</span>
                                                <span class="mod2_d_date">22. 10. 16. Sun</span>
                                                <span class="mod2_d_diary">ê°€ë‚˜ë‹¤ë¼ë§ˆë°”ì‚¬ ì•„ìì°¨ì¹´ íƒ€íŒŒí•˜ í•˜ëŠ” ì¼ì´ ìˆì—ˆë‹¤. ë„ˆë¬´ ì‚¬ë‘ìŠ¤ëŸ¬ì› ë‹¤!
                                                    ğŸ˜Š</span>
                                                <span class="mod2_d_imoji">ğŸ˜»</span>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- /ë”ë¯¸ë°ì´í„° ì¢…ë£Œ -->
                                </div><!-- /innerSlide -->
                            </div>
                            <!-- ëª¨ë‹¬ ì°½ (ë‹¤ì´ì–´ë¦¬&ëŒ“ê¸€ ë©”ë‰´ë²„íŠ¼)-->
                            <div class="modal hidden">
                                <div class="modalBg"></div>
                                <div class="modalBox">
                                    <div class="modalClose" style="cursor: pointer;">X</div>
                                    <iframe class="modalBody" scrolling="no" onload="resizeIframe(this)">

                                    </iframe>
                                </div>
                            </div>
                        </form>
                    </div>

                </article>
            </div>
            <!-- ==================== / contents ì˜ì—­======================= -->
            <script>
                function resize(obj) {
                    obj.style.height = "1px";
                    obj.style.height = (12 + obj.scrollHeight) + "px";
                }

                // 
                function replyAdd() {
                    const writeInput = document.querySelector(".replyInput")
                    const replyButton = document.querySelector(".replyInput")
                    const reply = replyButton.value.trim();
                    if(reply == "" ||reply.length==0){
                        alert("ëŒ“ê¸€ì„ ì…ë ¥í•˜ì„¸ìš”.")
                        writeInput.value=""
                        writeInput.focus()
                    }else{
                        alert(reply);
                    }
                    // ì´í•˜ ajax êµ¬í˜„
                }

                /* ì¢Œìš° ìŠ¤í¬ë¡¤ ìŠ¬ë¼ì´ë” */
                const slider = document.querySelector('.mod2_slider');
                let isMouseDown = false;
                let startX, scrollLeft;

                slider.addEventListener('mousedown', (e) => {
                    isMouseDown = true;
                    slider.classList.add('active');

                    startX = e.pageX - slider.offsetLeft;
                    scrollLeft = slider.scrollLeft;
                });

                slider.addEventListener('mouseleave', () => {
                    isMouseDown = false;
                    slider.classList.remove('active');
                });

                slider.addEventListener('mouseup', () => {
                    isMouseDown = false;
                    slider.classList.remove('active');
                });

                slider.addEventListener('mousemove', (e) => {
                    if (!isMouseDown) return;

                    e.preventDefault();
                    const x = e.pageX - slider.offsetLeft;
                    const walk = (x - startX) * 1;
                    slider.scrollLeft = scrollLeft - walk;
                });
            </script>

            <!-- ëª¨ë‹¬ì°½ script -->
            <script>
                function open(url){
                    document.querySelector(".modal").classList.remove("hidden");
                    document.querySelector(".modalBody").src=url;
                }

                const close = () => {
                    document.querySelector(".modal").classList.add("hidden");
                }

                // ajaxë¡œ contents=diary/replyê°’, ì»¨í…ì¸ idê°’ ë°›ê³  open(url)í•´ì•¼ í•¨ 
                document.querySelector(".diaryMenu").addEventListener("click", (e)=>{
                    const diaryId = e.target.id
                    alert("ì„ íƒëœ ì¼ê¸° Id : " + diaryId)
                    /* ajax
                     * ë³¸ì¸/íƒ€ì¸ ì»¨í…ì¸  ë¹„êµ í›„ í•´ë‹¹ ëª¨ë‹¬html ê²°ì •
                    */

                    open("./modal/view_otherContents.html")
                    //open("./modal/view_myContents.html")
                });

                const replyMenu_click = document.querySelectorAll(".replyMenu");
                for(let i = 0; i < replyMenu_click.length; i++){
                    replyMenu_click[i].addEventListener("click", (e) => {
                        const replyId = e.target.id
                        alert("ì„ íƒëœ ëŒ“ê¸€ Id : " + replyId)
                        /* ajax
                        
                        */
                        open("./modal/view_otherContents.html")
                        //open("./modal/view_myContents.html");
                    })
                }

                document.querySelector(".modalClose").addEventListener("click", close);
                document.querySelector(".modalBg").addEventListener("click", close);
            </script>

            <script>
                const like = document.querySelector(".likeButton")
                like.addEventListener("click",(e)=>{
 
                    if(like.innerHTML == "â™¥") {
                        /* 
                            ajax
                        
                        */
                        like.innerHTML="â™¡";
                    } else{
                        /* 
                            ajax
                        
                        */
                        like.innerHTML="â™¥"
                    }
                    like.classList.toggle("likeit");
                });
            </script>
            
        </main>
    </div>
</body>

</html>